*** Settings ***
Library  Collections
Library  RequestsLibrary

*** Test Cases ***
Get Requests
    [Tags]  get
    Create Session  please_login  http://203.110.166.228:8001/webfront/user/GetMemberStatus
    ${resp}=  Get Request  please_login  /get
    Should Be Equal As Strings  ${resp.status_code}  200
    Should Be Equal As Strings  ${resp.json()['msg']}  请先登录
    Log  ${resp.content}

Get Requests With Parameters
    [Tags]  get
    Create Session  game_detail  http://203.110.166.228:8001/webfront/center/GetEventDetail
    ${params}=  Create Dictionary  eventId=42
    ${resp}=  Get Request  game_detail  /get  params=${params}
    Should Be Equal As Strings  ${resp.status_code}  200
    Should Be Equal As Strings  ${resp.json()['data']['EventGroup'][0]['EventId']}  42
    Log  ${resp.content}

Post Requests With Url Parameters
    [Tags]  post
    Create Session  search  http://203.110.166.228:8001/webfront/center/Invitation
    ${parmas}=      Create Dictionary  eventId=130  eventGroupId=278  key=ha
    ${cookie}=      Create Dictionary  ASP.NET_SessionId=otbqwihb1fywbzevpd4wi02p  webuserkey=xiB12OeLVsflQllJLH2a6E6EUdpF+WaTP9l/LSZJgMR3lK8BGLTLw/yhp9Qw7gjCeU9owrVNDNeuutAe856c7H0px15d5lH+EXegHWW3k08rkn8NgP9fz1u/dGUxJcBA1CbQ0aOCPkW/kUSXhjqEzK6+jKH1oV95FiEveDSwtwSEkp54wJvYTLzeTzWNlC75RkbUulSzJB/lHt47UgbojyQCaifDBPny662eylyj1N2WMAuJyVAa9+jL714ozm05JdB/SyrHTnJpcNOQ34DLkE6tKl+jE68Gu0AKGX38Uhve80f3G/R+2QoBP6Wo0bqM5Bs8PEPseokWpYkJHzjkKA==
    ${resp}=        Post Request  search  /post  params=${parmas}
    Log  ${resp.content}
    Log  'Success'
    Should Be Equal As Strings  ${resp.status_code}  200

Post Requests With Url Parameters
    [Tags]  post
    Create Session  login  http://203.110.166.228:8001/webfront/user/login
    ${dict_headers}  Create Dictionary
    Set To Dictionary  ${dict_headers}  X-Requested-With=XMLHttpRequest
    ${params}=  Create Dictionary  Account=111@qq.com  Pwd=test123  MemberType=1  Remember=30
    ${resp}=  Post Request  login  /post  headers=${dict_headers}  params=${params}
    Should Be Equal As Strings  ${resp.json()['flag']}  True
    Should Be Equal As Strings  ${resp.json()['msg']}  /webfront/center/Index
    Log  ${resp.content}

Test Set Dictionary
    ${dict}    Create Dictionary
    Set To Dictionary  ${dict}  a=1  b=2  c=3
    Set To Dictionary  ${dict}  d=1  e=2  f=3
    Log  ${dict}




